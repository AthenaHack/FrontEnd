<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>School Security System</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/c3.css">
    <link href="https://fonts.googleapis.com/css?family=Assistant:400,700" rel="stylesheet">


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
    <script src="/js/bundle.js"></script>

    <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.21/c3.min.js"></script>

    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.5/require.min.js" data-main="/js/sentiment"></script>   -->

    <script src="/js/bing_maps.js"></script>
    <script type='text/javascript' src='https://www.bing.com/api/maps/mapcontrol?callback=GetMap&key=AmA3g4fVkW_W0260B6WfwDR13pRvztfOlwIOEnuS01boL8g_SMA6IUhf_gx0EicT' async defer></script>
    <script src="/js/sentiment.js"></script>
    <script src="/server.js"></script>

  </head>
  <body>

    <div id="navbar" class="expanded row align-middle">
      <div class="small-6 columns">
        <h3 style="color: white">School Security System</h3>
      </div>
      <div class="small-6 columns text-right">
        <p>Details</p>
      </div>
    </div>
    
    <div id="content" class="row">
      <div class="full-height medium-7 columns">
        <div id="security-feed" class="row column">
          <div class="full-height card">
            <div class="card-section">
              <div class="responsive-embed">
                <video>
                  <source src="vid/cam.mp4" type="video/mp4">
                </video>
              </div>
            </div>
          </div>
        </div>
        <div id="controls" class="row column">
          <h3>Controls</h3>
          <div class="contourLegend">
              <div style="background-color: rgba(215, 25, 28, 0.5)">High Activity </div>
              <div style="background-color: rgba(235, 140, 14, 0.5)"> Medium-High </div>
              <div style="background-color: rgba(255, 255, 0, 0.5)"> Medium Activity </div>
              <div style="background-color: rgba(140, 202, 32, 0.5)"> Medium-Low </div>
              <div style="background-color: rgba(25, 150, 65, 0.5)"> Low Activity</div>
          </div>
          <div class="map-padding"></div>
          <div id="myMap" style="position:relative;width:600px;height:400px;float:left;"></div>
    
    
        </div>
      </div>
      <div class="medium-5 small-12 columns">
        <h3>Notification</h3>
    
        <div id="chart4"></div>
        <script>
          var chart = c3.generate({
              bindto: '#chart4',
              data: {
                  columns: [
                      ['positive', 144, 225, 200, 80, 100, 87],
                      ['negative', 70, 100, 80, 75, 190, 160]
                  ],
                  types: {
                      positive: 'area-spline',
                      negative: 'area-spline'
                  },
                   colors: {
                     positive: 'lightblue',
                     negative: 'lightpink'
                   }
              }
          });
    
          setTimeout(function () {
                chart.load({
                  columns: [
                      ['positive', 225, 200, 80, 100, 87, 45],
                      ['negative', 100, 80, 75, 190, 160, 68]
                  ],
                  types: {
                      positive: 'area-spline',
                      negative: 'area-spline'
                  },
                   colors: {
                     positive: 'lightblue',
                     negative: 'lightpink'
                   }
                });
            }, 2000);
    
          setTimeout(function () {
                chart.load({
                  columns: [
                      ['positive', 200, 80, 100, 87, 45, 65],
                      ['negative', 80, 75, 190, 160, 68, 89]
                  ],
                  types: {
                      positive: 'area-spline',
                      negative: 'area-spline'
                  },
                   colors: {
                     positive: 'lightblue',
                     negative: 'lightpink'
                   }
                });
            }, 4000);
    
            setTimeout(function () {
                chart.load({
                  columns: [
                      ['positive', 80, 100, 87, 45, 65, 89],
                      ['negative', 75, 190, 160, 68, 89, 111]
                  ],
                  types: {
                      positive: 'area-spline',
                      negative: 'area-spline'
                  },
                   colors: {
                     positive: 'lightblue',
                     negative: 'lightpink'
                   }
                });
            }, 6000);
    
            var pos_num1 = 80; var pos_num2 = 100; var pos_num3 = 87; var pos_num4 = 45; var pos_num5 = 65; var pos_num6 = 89;
            var neg_num1 = 75; var neg_num2 = 190; var neg_num3 = 160; var neg_num4 = 68; var neg_num5 = 89; var neg_num6 = 111;
            
            for (i = 8000; i <= 32000; i += 2000) {
                console.log('going through loop');
    
                setTimeout(function () {
    
                // couldn't get
    
                // if (pos_num6 != new_pos_senti & neg_num6 != new_neg_senti) {
    
                  // pos_num1 = pos_num2;
                  // pos_num2 = pos_num3;
                  // pos_num3 = pos_num4;
                  // pos_num4 = pos_num5;
                  // pos_num5 = pos_num6;
                  // pos_num6 = new_pos_senti;
    
                  // neg_num1 = neg_num2;
                  // neg_num2 = neg_num3;
                  // neg_num3 = neg_num4;
                  // neg_num4 = neg_num5;
                  // neg_num5 = neg_num6;
                  // neg_num6 = new_neg_senti;
    
                  chart.load({
                    columns: [
                        // ['positive', pos_num1, pos_num2, pos_num3, pos_num4, pos_num5, new_pos_senti],
                        // ['negative', neg_num1, neg_num2, neg_num3, neg_num4, neg_num5, new_neg_senti]
                        ['positive', 100, 87, 45, 65, 89, new_pos_senti],
                        ['negative', 190, 160, 68, 89, 111, new_neg_senti]
                    ],
                    types: {
                        positive: 'area-spline',
                        negative: 'area-spline'
                    },
                     colors: {
                       positive: 'lightblue',
                       negative: 'lightpink'
                     }
                  });
              }, i);
              
            }
          
        </script>
    
        <div class="message-input collapse shrink">
          <span class="inline-label">
            <input type="text" placeholder="Message">
            <a href="#" class="button">Send</a>
          </span>
        </div>
    
        <div class="grid-frame">
    
          <div class="grid-block collapse medium-12 large-12 vertical">
    
              <ul class="tabs" data-tabs id="example-tabs">
                <li class="tabs-title"><a href="#panel1" aria-selected="true">Received</a></li>
                <li class="tabs-title is-active"><a data-tabs-target="panel2" href="#panel2">Sent</a></li>
                <li class="tabs-title"><a data-tabs-target="panel3" href="#panel3">Data</a></li>
              </ul>
    
              <div class="tabs-content" data-tabs-content="example-tabs">
                <div class="tabs-panel is-active" id="panel1">
                  <h4 id="h4Tag"></h4>
                    <!-- <h4>Cady Heron</h4>
                    <p>help!!</p>
                    <hr />
                    <h4>Kevin Gnapoor</h4>
                    <p>i don't know what's going on</p>
                    <hr />
                    <h4>Cady Heron</h4>
                    <p>SOS SAVE US</p>
                    <hr />
                    <h4>Trang Pak</h4>
                    <p>at least i won't need to take midterms</p>
                    <hr />
                    <h4>Coach Carr</h4>
                    <p>why meeee</p>
                    <hr />
                    <h4>Cady Heron</h4>
                    <p>:( :( :( </p>
                    <hr /> -->
                </div>
                <div class="tabs-panel" id="panel2">
                  <h4><img src="http://placehold.it/30x30">Sent at 10:10AM</h4>
                    <p>All students stay calm, we are investigating this right now.</p>
                    <hr />
                    <h4><img src="http://placehold.it/30x30">Sent at 10:16AM</h4>
                    <p>Remain where you are and do not going outside</p>
                    <hr />
    
                    <div class="message-input collapse shrink">
                      <span class="inline-label">
                        <input type="text" placeholder="Message">
                        <a href="#" class="button">Send</a>
                      </span>
                    </div>
                </div>
                <div class="tabs-panel" id="panel3">
                  <p>Statistics</p>
                    <div id="chart4"></div>
                    <script>
                      var chart = c3.generate({
                          bindto: '#chart4',
                          data: {
                              columns: [
                                  ['positive', 144, 225, 300, 80, 100, 87],
                                  ['negative', 70, 100, 80, 75, 190, 160]
                              ],
                              types: {
                                  positive: 'area-spline',
                                  negative: 'area-spline'
                              },
                               colors: {
                                 positive: 'lightblue',
                                 negative: 'lightpink'
                               }
                          }
                      });
    
                      // setTimeout(function () {
                      //     chart.load({
                      //       columns: [
                      //           ['positive', 225, 300, 80, 100, 87, 53],
                      //           ['negative', 100, 80, 75, 190, 160, 200]
                      //       ],
                      //       types: {
                      //           positive: 'area-spline',
                      //           negative: 'area-spline'
                      //       },
                      //        colors: {
                      //          positive: 'lightblue',
                      //          negative: 'lightpink'
                      //        }
                      //     });
                      // }, 2000);
    
                      // setTimeout(function () {
                      //     chart.load({
                      //       columns: [
                      //           ['positive', 300, 80, 100, 87, 53, 20],
                      //           ['negative', 80, 75, 190, 160, 200, 220]
                      //       ],
                      //       types: {
                      //           positive: 'area-spline',
                      //           negative: 'area-spline'
                      //       },
                      //        colors: {
                      //          positive: 'lightblue',
                      //          negative: 'lightpink'
                      //        }
                      //     });
                      // }, 4000);
    
                      // setTimeout(function () {
                      //     chart.load({
                      //       columns: [
                      //           ['positive', 80, 100, 87, 53, 20, 35],
                      //           ['negative', 75, 190, 160, 170, 200, 193]
                      //       ],
                      //       types: {
                      //           positive: 'area-spline',
                      //           negative: 'area-spline'
                      //       },
                      //        colors: {
                      //          positive: 'lightblue',
                      //          negative: 'lightpink'
                      //        }
                      //     });
                      // }, 6000);
    
                      // setTimeout(function () {
                      //     chart.load({
                      //       columns: [
                      //           ['positive', 80, 100, 87, 53, 20, 35],
                      //           ['negative', 75, 190, 160, 170, 200, 193]
                      //       ],
                      //       types: {
                      //           positive: 'area-spline',
                      //           negative: 'area-spline'
                      //       },
                      //        colors: {
                      //          positive: 'lightblue',
                      //          negative: 'lightpink'
                      //        }
                      //     });
                      // }, 8000);
    
                      // setTimeout(function () {
                      //     chart.load({
                      //       columns: [
                      //           ['positive', 100, 87, 53, 20, 35, 40],
                      //           ['negative', 190, 160, 170, 200, 193, 170]
                      //       ],
                      //       types: {
                      //           positive: 'area-spline',
                      //           negative: 'area-spline'
                      //       },
                      //        colors: {
                      //          positive: 'lightblue',
                      //          negative: 'lightpink'
                      //        }
                      //     });
                      // }, 10000);
                    </script>
                </div>
              </div>
          </div>
                    
    
        </div>
    
      </div>
    </div>
    

  </body>
</html>
